<HoloLib id="FBD" version="1.0" cssURL="css/fbd.css" jsURL="js/fbd.js" rootComponentType="RootComponentType">
    <description>
        Some description of this library. Some description of this library. Some description of this library. Some description of this library.
    </description>
	<dictionary>
		<term id="SET_SIZE_EXCEEDED">Set size exceeded.</term>
	</dictionary>
    <quantities>
        <quantity id="ForceMagnitude" symbol="F">
            <units>
                <unit id="Newton" symbol="N" isBase="true" factor="1"/>
                <unit id="Kilonewton" symbol="kN" factor="10000"/>
            </units>
        </quantity>
        <quantity id="Direction" symbol="dir">
            <units>
                <unit id="Degree" symbol="Â°" isBase="true">
                    <factor>
                        1
                    </factor>
                </unit>
            </units>
        </quantity>
    </quantities>
    <componentTypes>
        <componentType id="RootComponentType" skinURL="root.html" internal="true">
            <properties>
                <set id="children" maxSize="10">
					<dictionary>
						<term id="SET_SIZE_EXCEEDED">Too many members.</term>		
					</dictionary>
					<memberType>
						<reference targetType="*" visualizedAs="CONTAINMENT">
							<constraints>
								<constraint><![CDATA[
									//trace(this.value+">"+this.presetValue.id);
									return new Response(true);
								]]></constraint>
							</constraints>
							<dictionary>
								<term id="TYPE_MISMATCH">This memebertype can not be accepted here.</term>		
							</dictionary>
						</reference>
					</memberType>
                </set>
				<group id="controlProperties">
					<members>
						<variable id="selectable" defaultValue="false"/>
						<variable id="droppable" defaultValue="true"/>						
					</members>
				</group>					
            </properties>
        </componentType>
        <componentType id="VectorType" label="Vector" skinURL="vector.html" iconURL="assets/vector_icon.png">
            <description>
                This is the component that represents a two-dimensional force vector.
            </description>
        	<dictionary>
        		<term id="WRONG_PLACE">This component can't really go there.</term>        
        	</dictionary>
        	<onCreation><![CDATA[
				if (!this.isDummy) {
					this.setPropertyValue("screenId", window.holoComponentManager.getComponentMaxCountByType(this.type.id));
				}
			]]></onCreation>
            <constraints>
                <constraint><![CDATA[
                    if (this.presetPropertyValues['CenterX'] != undefined && this.presetPropertyValues['CenterY'] != undefined) {
                       if (this.presetPropertyValues['CenterX'] > 200 || this.presetPropertyValues['CenterY'] > 200 ) {
                            return new Response(false, "WRONG_PLACE", this);
                       }
                    }
                ]]></constraint>
                <constraint><![CDATA[
                    if (this.presetPropertyValues['MajorAxis'] != undefined && this.presetPropertyValues['MinorAxis'] != undefined) {
                       if (this.presetPropertyValues['MajorAxis'] < 20 || this.presetPropertyValues['MinorAxis'] < 20 ) {
                            return new Response(false, "WRONG_ELLIPSE_SIZE", this);
                       }
                    }
                ]]></constraint>
            </constraints>
            <properties>
				<variable id="symbol" label="Symbol" defaultValue="V">
					<description>
						Symbol of the component
					</description>
				</variable>
				<variable id="screenId" label="Screen ID" defaultValue="x">
					<description>
						Screen ID of the component
					</description>
				</variable>
                <variable id="magnitude" quantity="ForceMagnitude" label="magnitude" controlType="TF_REAL_WITH_QUANTITY">
                    <description>
                        Numerical value of the vector
                    </description>
                </variable>
                <group id="visualProperties" label="Visual properties">
                	<members>
		                <variable id="Direction" quantity="Direction" label="Rot" controlType="TF_REAL" controlParameters="140,0,3,2" bindToSkinAttribute="vectorRotation"  defaultValue="0">
		                    <description>
		                        Rotation
		                    </description>
                        	<dictionary>
                	        	<term id="WRONG_DIRECTION">Wrong direction.</term>
                        	</dictionary>                            
							<!-- <constraints> -->
							<!-- 	<constraint><![CDATA[ -->
							<!-- 		 if (this.presetValue<0) return new Response(false, "WRONG_DIRECTION", this); -->
							<!-- 	]]></constraint> -->
							<!-- </constraints>-->
		                </variable>
					</members>
				</group>
                <group id="AreaOfOrigin" label="Area of Origin">
                	<members>
						<variable id="CenterX" label="X" controlType="TF_INT" controlParameters="0,0,4" bindToSkinAttribute="positionX" defaultValue="0">
		                    <description>
		                        X coordinate
		                    </description>
		                </variable>
		                <variable id="CenterY" label="Y" controlType="TF_INT" controlParameters="70,0,4" bindToSkinAttribute="positionY" defaultValue="0">
		                    <description>
		                        Y coordinate
		                    </description>
		                </variable>
						<variable id="MajorAxis" label="X" controlType="TF_INT" controlParameters="0,0,4" bindToSkinAttribute="ellipseWidth" defaultValue="60">
		                    <description>
		                        Major Axis
		                    </description>
		                </variable>
		                <variable id="MinorAxis" label="Y" controlType="TF_INT" controlParameters="70,0,4" bindToSkinAttribute="ellipseHeight" defaultValue="60">
		                    <description>
		                        Minor Axis
		                    </description>
		                </variable>
		                <variable id="Rotation" quantity="Direction" label="Rot" controlType="TF_REAL" controlParameters="140,0,3,2" bindToSkinAttribute="ellipseRotation"  defaultValue="90">
							<!-- <constraints> -->
							<!-- 	<constraint><![CDATA[ -->
							<!-- 		 if (this.presetValue<0) return new Response(false, "WRONG_DIRECTION", this); -->
							<!-- 	]]></constraint> -->
							<!-- </constraints>-->
                        </variable>
					</members>
				</group>                
				<group id="controlProperties">
					<members>
						<variable id="draggable" defaultValue="true"/>
					</members>
				</group>					
            </properties>
        </componentType>
        <componentType id="MomentType" label="Moment" symbol="M" skinURL="moment.html" iconURL="assets/moment_icon.png">
            <description>
                This components represents the tendency of the force twisting an object
            </description>
        	<onCreation><![CDATA[
				if (!this.isDummy) {
					this.setPropertyValue("screenId", window.holoComponentManager.getComponentMaxCountByType(this.type.id));
				}
			]]></onCreation>		
            <properties>
				<variable id="symbol" label="Symbol" defaultValue="M">
					<description>
						Symbol of the component
					</description>
				</variable>
				<variable id="screenId" label="Screen ID" defaultValue="x">
					<description>
						Screen ID of the component
					</description>
				</variable>
                <variable id="direction" label="Direction" controlType="TF_INT" defaultValue="true" bindToSkinAttribute="reflectionY">
                    <description>
                        Direction of the moment
                    </description>
                </variable>
                <group id="visualProperties" label="Visual properties">
					<members>
                  <variable id="positionX" label="X" controlType="TF_INT" bindToSkinAttribute="positionX">
                      <description>
                          X coordinate
                      </description>
                  </variable>
                  <variable id="positionY" label="Y" controlType="TF_INT" bindToSkinAttribute="positionY">
                      <description>
                          Y coordinate
                      </description>
                  </variable>
					</members>
				</group>
				<group id="controlProperties">
					<members>
						<variable id="draggable" defaultValue="true"/>
					</members>
				</group>					
            </properties>
        </componentType>
    </componentTypes>
</HoloLib>
